function ViewportSpy(){"use strict";let t,e={container:".ViewportSpy",selector:"[data-observe-intersection]"};function n(t){const e=document.querySelector("body"),n=t.target,o=Number(n.dataset.inView),i=t.isIntersecting&&t.intersectionRatio>o?"add":"remove",r=!n.classList.contains("visited");n.classList[i]("in-viewport"),r&&"add"==i&&n.classList.add("visited");const s=new CustomEvent("VSevent",{detail:{element:n}});e.dispatchEvent(s)}return{init:function(o){!function(t){document.querySelectorAll(t.selector).forEach(e=>{const o=e.dataset.triggerPoints;let i="all"==o?[]:o.split(",").map(t=>t.trim());if(0==i.length)for(let t=0;t<=1;t+=.01)i.push(t);!function(t,e,n={}){new IntersectionObserver(t=>{t.forEach(t=>e(t))},n).observe(t)}(e,n,{root:document.querySelector(t.container),threshold:i})})}(t="object"==typeof o?{...e,...o}:{...e})}}}